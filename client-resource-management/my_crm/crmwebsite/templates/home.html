{% extends 'base.html' %}
{% block content %}
<div class="col-md-6 offset-md-3">

  {% if user.is_authenticated %}
    <h1 class="mb-4 text-center">Employee Details</h1>

    <table class="table table-striped table-bordered text-center">
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Position</th>
          <th scope="col">Salary</th>
        </tr>
      </thead>
      <tbody>
        {% if records %}
          {% for rec in records %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{ rec.name }}</td>
              <td>{{ rec.position }}</td>
              <td>{{ rec.salary }}</td>
            </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="4">No records found</td>
          </tr>
        {% endif %}
      </tbody>
    </table>

  {% else %}
    <h1 class="mb-4 text-center">Login</h1>
    <form method="POST" action="{% url 'home' %}">
      {% csrf_token %}
      <div class="mb-3">
        <input type="text" class="form-control" name="username" placeholder="Username" required>
      </div>
      <div class="mb-4">
        <input type="password" class="form-control" name="password" placeholder="Password" required>
      </div>
      <button type="submit" class="btn btn-secondary w-100">Login</button>
    </form>
  {% endif %}

</div>
{% endblock %}
